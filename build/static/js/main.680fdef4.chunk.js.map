{"version":3,"sources":["components/Messages.js","components/Chat.js","components/SiteIntro.js","components/CreateMessage.js","components/CanvasBackground.js","App.js","index.js"],"names":["Messages","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","getStyle","user","backgroundColor","overflowY","opacity","determineVisualContent","content","scroll","length","simmerRegExp","RegExp","splitContent","split","react_default","a","createElement","ref","vidRef","onLoadedMetadata","scrollToBottomVideo","controls","autoplay","src","alt","youtubeURL","replace","width","height","frameborder","allow","allowfullscreen","test","simmerURL","exec","style","border","console","log","twitchURL","scrolling","hoverOn","chatRef","hoverOff","scrollToBottom","scrollIntoView","behavior","block","_this2","onMouseEnter","onMouseLeave","chatItems","message","Component","Chat","chatMessages","map","components_Messages","key","id","SiteIntro","overlay","overlayRef","remove","blackBackground","color","href","onClick","CreateMessage","state","onChange","e","setState","target","value","onSubmit","preventDefault","createMessage","position","bottom","type","next","findUsers","name","flex","padding","placeholder","className","CanvasBackground","lineGradient","x","y","xEnd","yEnd","color1","color2","gradient","ctx","createLinearGradient","addColorStop","radialGradient","rad","radEnd","createRadialGradient","rand","start","end","Math","ceil","random","canvasSize","canvasRef","fill","col_hex","fillcolor","stroke","strokecolor","int_pix","strokesize","rect","sizeX","sizeY","fillStyle","strokeStyle","lineWidth","beginPath","closePath","circle","radius","arc","PI","point","strokeSize","canvasBackgroundFill","stars","min","i","sun","water","onResize","window","innerWidth","innerHeight","createCanvasBackground","backgroundImage","img","Image","onload","drawImage","getContext","addEventListener","openpgp","path","localStorage","publicKey","privateKey","pass","cryptoArray","Uint32Array","crypto","getRandomValues","toString","options","userIds","email","numBits","passphrase","then","setItem","privateKeyArmored","publicKeyArmored","App","socketConnection","stream","socket","socketIOClient","connect","concat","toConsumableArray","on","data","createPeer","initiator","peer","emit","signal","initiaitorSocketId","socketid","submitButton","destroy","peerInfo","inConvo","navigator","mediaDevices","getUserMedia","video","audio","catch","err","Peer","trickle","code","send","JSON","stringify","isPublicKey","peerPublicKey","_ref","asyncToGenerator","regenerator_default","mark","_callee","privKey","_options","wrap","_context","prev","parse","sessionStorage","readArmored","sent","keys","decrypt","t0","t1","privateKeys","plaintext","newMessage","stop","_x","apply","arguments","peerStream","peerRef","srcObject","onloaddedmetadata","play","_ref2","_callee2","_context2","fromText","publicKeys","ciphertext","_x2","_x3","imgUrl","prompt","clientRef","forceUpdate","info","_this3","components_SiteIntro","maxHeight","muted","class","components_Chat","submit","components_CreateMessage","components_CanvasBackground","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.680fdef4.chunk.js","sourcesContent":["//Test files\r\n//https://files.catbox.moe/v71b50.jpg\r\n//https://files.catbox.moe/d0sb20.mp4\r\n//https://www.twitch.tv/monstercat\r\n//<iframe src=\"https://c.simmer.io/static/unityFrame/index.html?url=https%3A%2F%2Fsimmercdn.com%2Funity%2FkZGYHWMk1uQmFY7ll8nbCnz7ojm2%2Fcontent%2F98e8ae1c-0ce9-1a32-b4ff-7d2e654d9242&imagePath=screens/1.png\" style=\"width:960px;height:600px;border:0\"></iframe>\r\n//http://regexr.com/4f2iu\r\n\r\n\r\nimport React, { Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\nimport $ from 'jquery';\r\n\r\n\r\nclass Messages extends Component {\r\n  \r\n    constructor(props) {\r\n        super(props)\r\n\r\n    }    \r\n\r\n    getStyle = (user) => {\r\n        if( user === \"You\" ) {\r\n            return {backgroundColor : '#FFDAB9', overflowY: \"auto\", opacity: .75 }\r\n\r\n        } else {\r\n                return {backgroundColor : \"#FFD700\", overflowY: \"auto\", opacity: .75 }\r\n            }\r\n        }\r\n    \r\n    determineVisualContent = (content, scroll) => {\r\n        if(typeof content == 'undefined' || typeof content == null) {\r\n            return null;\r\n        } else if (content.length <= 0) {\r\n            return null;\r\n        }\r\n\r\n        var simmerRegExp = new RegExp(/(https:\\/\\/c\\.simmer\\.io\\/static\\/unityFrame\\/index\\.html\\?url=https)([^a-z]+)(simmercdn.com%2Funity%2F)([a-zA-Z0-9]{28})(%2Fcontent%2F)([a-zA-Z0-9]{8}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{4}-[a-zA-Z0-9]{12}&imagePath=screens\\/[a-zA-Z0-9]{1}.png)/);\r\n        var splitContent = content.split('/');\r\n        if(splitContent[2] === \"files.catbox.moe\" || splitContent[2] === \"i.imgur.com\") {\r\n            splitContent = splitContent[3].split(\".\");\r\n            if(splitContent[1] == \"mp4\" || splitContent[1] == \"webm\" || splitContent[1] == \"avi\" || splitContent[1] == \"ogg\" || splitContent[1] == \"mpeg\") { \r\n                //ref = {vidRef => {this.vidRef = vidRef }}\r\n                return (\r\n                <div ><br /><video ref = {vidRef => {this.vidRef = vidRef }} onLoadedMetadata = {this.scrollToBottomVideo} controls autoplay> <source src={content} ></source></video> </div>\r\n                )\r\n            } else if(splitContent[1] == \"jpg\" || splitContent[1] == \"jpeg\" || splitContent[1] == \"png\" || splitContent[1] == \"gif\")  {\r\n                return <div ><br /><img src = {content} alt=\"User Content\" /></div>                \r\n            } else {\r\n                return null;\r\n            }\r\n        } else if((splitContent[2] === \"www.youtube.com\" || splitContent[2] === \"youtube.com\" || splitContent[2] === \"youtu.be\" || splitContent[2] === \"www.youtu.be\")) {            \r\n            const regexp = /^.*(watch\\?v=)/;\r\n            \r\n            var youtubeURL = \"https://youtube.com/embed/\" + splitContent[3].replace(regexp, '');\r\n            return (\r\n                \r\n                <div><iframe width=\"560\" height=\"315\" src={youtubeURL} frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe></div>\r\n            )\r\n        } else if (simmerRegExp.test(content)) {\r\n                var simmerURL = simmerRegExp.exec(content)[0];\r\n                return (\r\n                    <div><iframe src= { simmerURL } style= {{ width:960, height:540, border:0 }}></iframe> <br /></div>\r\n                )\r\n        } else if(splitContent[2] === \"www.twitch.tv\" || splitContent[2] === \"twitch.tv\") {\r\n            console.log(splitContent[3]);\r\n            var twitchURL = \"https://player.twitch.tv/?channel=\" + splitContent[3];\r\n\r\n            return (<div><br /><iframe src= {twitchURL} frameborder=\"0\" allowfullscreen=\"true\" scrolling=\"no\" height=\"378\" width=\"620\"></iframe></div>)\r\n        } else {\r\n            return null\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.scrollToBottom();\r\n        //this.scrollToBottomVideo();\r\n      }\r\n    \r\n    componentDidUpdate() {\r\n        this.scrollToBottom();\r\n        //this.scrollToBottomVideo();\r\n      }\r\n\r\n      hoverOn = () => {\r\n          //this.setState({opacity: 1});\r\n          this.chatRef.style.opacity = 1; // this.state.opacity;\r\n      }\r\n\r\n      hoverOff = () => {\r\n          //this.setState({opacity: .75});\r\n          this.chatRef.style.opacity = .75; // this.state.opacity;\r\n      }\r\n\r\n    scrollToBottom = () =>  \r\n        {  \r\n            this.chatRef.scrollIntoView({behavior: 'smooth', block: \"start\"}); \r\n        }\r\n    scrollToBottomVideo = () => \r\n    {\r\n        this.vidRef.scrollIntoView({behavior: 'smooth', block: \"start\"})\r\n    }\r\n\r\n  render() {    \r\n    return (\r\n        <div onMouseEnter = {this.hoverOn} onMouseLeave = {this.hoverOff} style = {this.getStyle(this.props.chatItems.user)} ref = {chatRef => {this.chatRef = chatRef }}> \r\n            {this.props.chatItems.user + \": \" + this.props.chatItems.message}\r\n            {this.determineVisualContent(this.props.chatItems.message)}\r\n        </div>\r\n        \r\n    )\r\n  };\r\n}\r\n\r\nMessages.propTypes = {\r\n    chatItems: PropTypes.object.isRequired,\r\n}\r\n\r\n\r\nexport default Messages;\r\n","import React, { Component } from 'react';\r\nimport Messages from './Messages';\r\nimport PropTypes from 'prop-types';\r\n\r\nclass Chat extends Component {\r\n\r\n  render() {    \r\n   // console.log(this.props.chatMessages);\r\n    return (\r\n       // <showButton />\r\n        this.props.chatMessages.map(chatItems => (\r\n            <Messages key = {chatItems.id} chatItems = {chatItems}/>\r\n        \r\n     ))\r\n     \r\n    );\r\n  }\r\n}\r\n\r\nChat.propTypes = {\r\n    chatMessages: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Chat;\r\n\r\n/*\r\n\r\n        <video controls autoplay>\r\n          <source src=\"https://files.catbox.moe/d0sb20.mp4\" type=\"video/mp4\"></source>\r\n        </video>\r\n\r\n*/","import React, { Component } from 'react';\r\n\r\nclass SiteIntro extends Component {\r\n\r\n  overlay  = () => {\r\n    //this.overlayRef.style.display = 'none';\r\n    this.overlayRef.remove();\r\n    this.blackBackground.remove();\r\n  } \r\n  \r\n  render() {    \r\n    return (\r\n      <div>\r\n            <div id = \"overlay\" ref = {overlayRef => {this.overlayRef = overlayRef}} >      \r\n                <div id = \"overlayone\">\r\n                  <p style= {{color: 'red'}}>Please check the <b>TOP RIGHT</b> (in Chrome) <b>TOP LEFT</b> (in Firefox) of your browser and make sure your webcam/mic is accessible to the browser!<br /></p>\r\n                  <h1>Welcome to Random.moe!</h1>\r\n                  <p>Random.moe is an <a href=\"https://github.com/openpgpjs/openpgpjs\">encrypted</a>, <a href=\"https://github.com/feross/simple-peer\">peer-to-peer</a>, <a href= \"https://github.com/paradoxmoe/randommoe\">open source</a> random chat alternative to Omegle/Chatroulette/etc.</p>\r\n                  <p>Special thanks to: <a href='http://stackoverflow.com/a/35387759'>Kecer</a> on Stackoverflow and <a href=\"https://codepen.io/Anomaly942/\">Kaustav</a> on CodePen</p>\r\n                </div>\r\n\r\n                <div id = \"overlaytwo\">\r\n                  \r\n                  <iframe width=\"560\" height=\"315\" src=\"https://www.youtube.com/embed/59UMqAvQoXk\" frameborder=\"0\" allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>\r\n                  <p>Youtube Support! Just Copy and Paste a youtube URL into the chat!</p>\r\n                  <p>Imgur support! </p>\r\n                  <p><a href=\"www.twitch.tv\">Twitch</a> Support!</p>\r\n                  <p><a href=\"http://catbox.moe\">Catbox</a> Support! Just Copy and Paste a Catbox.moe URL into the chat! (Images and videos!) </p>\r\n                  <p><a href=\"https://simmer.io\">Simmer Support!</a> Just Copy and Paste the <b style= {{color: 'yellow'}}>embed code</b> into the chat!</p>\r\n                </div>\r\n               \r\n                <div id = \"overlaythree\">\r\n                  <p>Be aware you are talking to anonymous users, <b style= {{color: 'red'}}>some of whom may have malicious intentions.</b></p>\r\n                  <p>While chat messages are encrypted and peer-to-peer, <b style= {{color: 'red'}}>there is no expectation of privacy when using Random.moe.</b> Please exercise caution when using this platform.</p>\r\n                  <p>As the site is currently under rapid development, please report bugs or suggestions <a href= \"https://github.com/paradoxmoe/RandomMOE/issues\">here</a>!</p>\r\n                  <p>We use cookies/local storage to store your PGP encryption keys, so be aware of this.</p>\r\n                  <p>If you don't have a webcam, I'd recommend using <a href=\"http://www.oldversion.com/windows/manycam-2-6-1\">ManyCam</a> (or something similar) </p>\r\n                  <p>If you'd like to contribute to the development of random.moe, please visit our <a href=\"https://www.patreon.com/randomMOE\">Patreon</a>!</p>\r\n\r\n                  <p>While a comprehensive privacy policy is in the works, we currently don't collect any data whatsoever on our users. We don't even have a database set up yet.</p>        \r\n                  <p>Random.moe is only for users over 18. <b style= {{color: 'red'}}>Leave if not 18+</b></p>\r\n                </div>\r\n                <button onClick={this.overlay}>Click here if you've read the above!</button>\r\n\r\n            </div>\r\n            <div id = \"blackbackground\" ref = {blackBackground => {this.blackBackground = blackBackground}}></div> \r\n      </div>\r\n    )\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default SiteIntro;","import React, { Component } from 'react';\r\n\r\nclass CreateMessage extends Component {\r\n\r\n    state = {\r\n        content: ''\r\n    }\r\n\r\n    onChange = (e) => this.setState({content: e.target.value}); \r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        this.props.createMessage(\"You\", this.state.content);\r\n        this.setState({content: '', user: 'You' })\r\n    }\r\n  render() {    \r\n\r\n    return (\r\n            <form onSubmit = {this.onSubmit} style = {{position: 'fixed', bottom: '0', width: '100%' }}>\r\n                <button type=\"button\" onClick = {this.props.next} ref = {findUsers => {this.findUsers = findUsers}}>Next</button>\r\n                <input type=\"text\" name=\"title\" style={{flex: '10', padding: '5px', width: '90%'}} placeholder=\"Type Message Here...\" value={this.state.content} onChange={this.onChange}></input>\r\n                <input type=\"submit\" value=\"submit\" className = \"btn\" style={{flex: '1'}} />\r\n            </form>\r\n    )\r\n  };\r\n}\r\n\r\n\r\n\r\nexport default CreateMessage;\r\n","//https://codepen.io/Anomaly942/pen/pOqRrz?editors=0010\r\n//https://codepen.io/kevincardona1/pen/LWwZyx\r\n\r\nimport React, { Component } from 'react';\r\nimport { brotliDecompress } from 'zlib';\r\n\r\nclass CanvasBackground extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        \r\n        this.fillcolor = \"#000000\";\r\n        this.strokecolor = \"#000000\";\r\n        this.strokesize = \"#000000\";\r\n        \r\n        this.state = {width: window.innerWidth, height: window.innerHeight};      \r\n    }\r\n\r\n    componentWillMount() {\r\n      //this.onResize();\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ctx = this.canvasRef.getContext('2d');\r\n        this.setState({width: window.innerWidth, height: window.innerHeight});    \r\n        window.addEventListener('resize', this.onResize);\r\n        this.onResize();\r\n        this.createCanvasBackground();\r\n      }\r\n    \r\n      componentDidUpdate() {\r\n        this.createCanvasBackground();\r\n      }\r\n\r\n    lineGradient = (x, y, xEnd, yEnd, color1, color2) => {\r\n        let gradient = this.ctx.createLinearGradient(x, y, xEnd, yEnd);\r\n        gradient.addColorStop(0, color1);\r\n        gradient.addColorStop(1, color2);\r\n        return gradient;\r\n    }\r\n\r\n    radialGradient = (x, y, rad, xEnd, yEnd, radEnd, color1, color2) => {\r\n      let gradient = this.ctx.createRadialGradient(x, y, rad, xEnd, yEnd, radEnd, color1, color2);\r\n      gradient.addColorStop(0, color1);\r\n      gradient.addColorStop(1, color2);\r\n      return gradient;\r\n    }\r\n\r\n    rand = (start, end) => {\r\n      return Math.ceil(Math.random() * (end - start) + start);\r\n    }\r\n\r\n    canvasSize = () => {\r\n        this.canvasRef.width = this.state.width;\r\n        this.canvasRef.height = this.state.height;\r\n        //this.setState({canvasRef: this.canvasRef});\r\n    }\r\n\r\n    fill = (col_hex) => {\r\n        this.fillcolor = col_hex;\r\n    }\r\n\r\n    stroke = (col_hex) => {\r\n      this.strokecolor = col_hex;\r\n    }\r\n\r\n    border = (int_pix) => {\r\n      this.strokesize = int_pix;\r\n    }\r\n\r\n    rect = (x, y, sizeX, sizeY) => {\r\n        this.ctx.fillStyle = this.fillcolor;\r\n        this.ctx.strokeStyle = this.strokecolor;\r\n        this.ctx.lineWidth = this.strokesize;\r\n        this.ctx.beginPath();\r\n        this.ctx.rect(x, y, sizeX, sizeY);\r\n        this.ctx.fill();\r\n        this.ctx.stroke();\r\n        this.ctx.closePath();\r\n\r\n        //this.setState({ctx: this.ctx}); \r\n    }\r\n\r\n    circle = (x, y, radius) => {\r\n      this.ctx.fillStyle = this.fillcolor;\r\n      this.ctx.strokeStyle = this.strokecolor;\r\n      this.ctx.lineWidth = this.strokesize;\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.arc(x, y, radius, 0, Math.PI*2, false);\r\n      this.ctx.fill();\r\n      this.ctx.stroke();\r\n      this.ctx.closePath();\r\n\r\n    }\r\n\r\n    point = (x, y) => {\r\n      this.ctx.fillStyle = this.fillcolor;\r\n      this.ctx.strokeStyle = this.strokecolor;\r\n      this.ctx.lineWidth = this.strokeSize;\r\n\r\n      this.ctx.beginPath();\r\n      this.ctx.rect(x, y, 1, 1);\r\n      this.ctx.fill();\r\n      this.ctx.stroke();\r\n      this.ctx.closePath();\r\n    }\r\n\r\n    \r\n    canvasBackgroundFill = () => {\r\n        this.fill(this.lineGradient(this.state.width/1, 0, this.state.width/2, this.state.height * 1.3, \"#200030\", '#9c046e'));\r\n        this.rect(0, 0, this.state.width, this.state.height);\r\n    }\r\n    \r\n    stars = () => {\r\n      this.stroke(\"#ffffff\");\r\n      this.border(Math.min((this.state.width / 1440), (this.state.height / 900)) * 1.5);\r\n      for(let i = 0; i < (this.state.width / 1.5); i++) {\r\n        this.point(this.rand(0, this.state.width), this.rand(0, this.state.width));\r\n      }\r\n      this.stroke(\"#ffffff00\");\r\n    }\r\n\r\n    sun = () => {\r\n      var radius = Math.min((this.state.width/1440), (this.state.height/900)) * 400;\r\n      this.fill(this.lineGradient(this.state.width/2,0,this.state.width/2,this.state.height*1.1, \"#ff4400\", \"#ffff00\"));\r\n      this.circle(this.state.width/2, this.state.height/2, radius);\r\n    }\r\n\r\n    water = () => {\r\n      this.fill(this.radialGradient((this.state.width / 2), (this.state.height * (2/3)), ((this.state.width / 1440)*100), (this.state.width / 2), (this.state.height * (2/3)), ((this.state.height / 900) * 600), \"#002244cc\", \"#000044cc\")); \r\n      this.rect(0, this.state.height*(2/3), this.state.width, this.state.height / 3);\r\n    }\r\n\r\n    onResize = () => {\r\n        this.setState({width: window.innerWidth, height: window.innerHeight});\r\n        this.canvasSize();\r\n        this.createCanvasBackground();\r\n    }\r\n\r\n    createCanvasBackground = () => {\r\n      if(this.props.backgroundImage != '' && typeof this.props.backgroundImage != null) {\r\n        var img = new Image;\r\n        img.src = this.props.backgroundImage;\r\n        img.onload = () => {\r\n          this.ctx.drawImage(img, 0, 0, this.state.width, this.state.height)\r\n        }\r\n      } else {\r\n        this.canvasBackgroundFill();\r\n        this.stars();\r\n        this.sun();\r\n        this.water();\r\n      }\r\n\r\n\r\n\r\n        //ctx.font = \"30px Arial\";\r\n        //ctx.strokeText(\"Hello CanvasBackground\", 10, 50);\r\n          //var width = window.innerWidth;\r\n          //var height = window.innerHeight;\r\n    \r\n    \r\n    }\r\n\r\n  render() {    \r\n \r\n    return (\r\n        <canvas ref= {canvasRef => {this.canvasRef = canvasRef}}>\r\n\r\n        </canvas>\r\n    )\r\n  }\r\n}\r\n\r\nexport default CanvasBackground;","//npm run build\r\n\r\nimport React, { Component } from 'react';\r\nimport Chat from './components/Chat';\r\nimport SiteIntro from './components/SiteIntro';\r\nimport CreateMessage from './components/CreateMessage';\r\nimport CanvasBackground from './components/CanvasBackground';\r\nimport * as openpgp from 'openpgp';\r\nimport './App.css';\r\nimport Peer from 'simple-peer'; \r\nimport socketIOClient from 'socket.io-client';\r\n//import data from 'emoji-mart/data/messenger.json'\r\n//import { NimblePicker } from 'emoji-mart'\r\n//import $ from 'jquery';\r\n\r\n\r\nopenpgp.initWorker({path: './dist/openpgp.worker.min.js'}); \r\n\r\nif(typeof localStorage.publicKey == 'undefined' || typeof localStorage.privateKey == 'undefined' || typeof localStorage.pass == 'undefined') {\r\n\r\n  var cryptoArray = new Uint32Array(4);\r\n  window.crypto.getRandomValues(cryptoArray);\r\n  localStorage.pass = cryptoArray[2].toString()\r\n  var options = {\r\n    userIds: [{name: cryptoArray[3].toString(), email: cryptoArray[0] + '@' + cryptoArray[1] + '.com' }],\r\n    numBits: 2048,\r\n    passphrase: localStorage.pass\r\n  }\r\n\r\n  openpgp.generateKey(options).then(function(key) {\r\n  localStorage.setItem('privateKey', key.privateKeyArmored);\r\n  localStorage.setItem('publicKey', key.publicKeyArmored);\r\n\r\n  })\r\n}\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      chatMessages: [ \r\n      ],\r\n      peerInfo: null,\r\n      stream: null,\r\n      peer: null,\r\n      inConvo: false,\r\n      backgroundImage: '',\r\n    }\r\n    \r\n  }\r\n\r\n  componentDidMount() {\r\n    navigator.mediaDevices.getUserMedia({video:true, audio: true}).then(stream => {\r\n      this.clientRef.srcObject = stream;\r\n      this.clientRef.onloaddedmetadata = this.clientRef.play();\r\n      this.forceUpdate();\r\n    }).catch((err) => {\r\n      navigator.mediaDevices.getUserMedia({video:false, audio: false}).then(stream => {\r\n        this.forceUpdate();\r\n      })\r\n    })\r\n  }\r\n\r\n  componentDidCatch(err, info) {\r\n    console.log(err);\r\n    console.log(info);\r\n  }\r\n\r\n  socketConnection = (stream) => {\r\n    var socket = socketIOClient.connect(\"https://random.moe\");   \r\n    this.setState({chatMessages: [...this.state.chatMessages, {id: this.state.chatMessages.length, user: \"Client\", message:\"Connecting to Server...\"}]})\r\n    socket.on('peer', (data) => {\r\n      this.createPeer(data.initiator, stream);\r\n      \r\n      console.log(\"Server told client to become initiator: \" + data.initiator);\r\n      if(data.initiator) {\r\n        this.state.peer.on(\"signal\", (data) => {\r\n          socket.emit(\"initiatorData\", data);\r\n          this.setState({chatMessages: [...this.state.chatMessages, {id: this.state.chatMessages.length, user: \"Client\", message:\"Emitting Initiator data to Server...\"}]})\r\n        })\r\n      }\r\n    });\r\n\r\n      socket.on('joinInitiator', (data) => {\r\n        this.setState({chatMessages: [...this.state.chatMessages, {id: this.state.chatMessages.length, user: \"Client\", message:\"Joining Initiator...\"}]})\r\n        this.state.peer.signal(data.data);\r\n \r\n\r\n        if(!data.initiator) {\r\n          var initiaitorSocketId = data.socketid;\r\n          this.state.peer.on('signal', (data) => {\r\n            socket.emit(\"backToInitiator\", {socketid: initiaitorSocketId, data: data});\r\n            this.setState({chatMessages: [...this.state.chatMessages, {id: this.state.chatMessages.length, user: \"Client\", message:\"Recieving Initiator's Data...\"}]})\r\n          })\r\n        }\r\n      })\r\n\r\n      socket.on('toInitiatorFromServer', (data) => {\r\n       \r\n          this.state.peer.signal(data.data);  \r\n          this.setState({chatMessages: [...this.state.chatMessages, {id: this.state.chatMessages.length, user: \"Client\", message:\"Connecting to Peer...\"}]})\r\n      })\r\n  }\r\n\r\n  submitButton = () => {\r\n    console.log(\"Can Submit\")\r\n  }\r\n\r\n  next = () => {\r\n    this.setState({chatMessages: [...this.state.chatMessages, {id: this.state.chatMessages.length, user: \"Client\", message:\"Finding User...\"}]})\r\n    if(this.state.peer != null && typeof this.state.peer != 'undefined') {\r\n        this.state.peer.destroy();\r\n        this.setState({\r\n          chatMessages: [ \r\n          ],\r\n          peerInfo: null,\r\n          stream: null,\r\n          peer: null,\r\n          inConvo: false,\r\n        });\r\n      }\r\n          navigator.mediaDevices.getUserMedia({video:true, audio: true}).then(stream => {\r\n            this.socketConnection(stream);\r\n          }).catch((err) => { this.socketConnection(false)})\r\n  }\r\n\r\n  //Needs to be finished\r\n  createPeer = (initiator, stream) => {\r\n  var peer = new Peer({initiator: initiator, trickle: false, stream: stream});\r\n\r\n  this.setState({inConvo: true});\r\n  \r\n    peer.on(\"error\", (err) => {\r\n      this.setState({chatMessages: [{id: this.state.chatMessages.length, user: \"Client\", message:  err.code + \" Error. Try clicking next, or refreshing if problem persists\"}]});\r\n    })\r\n\r\n    peer.on(\"connect\", () => {\r\n        peer.send(JSON.stringify({isPublicKey: true, peerPublicKey: localStorage.publicKey}))\r\n        this.setState({chatMessages: []});\r\n    })\r\n\r\n    peer.on(\"data\", async (data) => {\r\n      data = JSON.parse(data);\r\n\r\n      if(data.isPublicKey === true) {\r\n        sessionStorage.setItem(\"peerPublicKey\", data.peerPublicKey);\r\n        this.setState({chatMessages: [{id: this.state.chatMessages.length, user: \"Client\", message:\"You can now send messages!\"}]});\r\n\r\n      } else {\r\n\r\n        let privKey = ( await openpgp.key.readArmored(localStorage.privateKey)).keys[0];\r\n        await privKey.decrypt(localStorage.pass);\r\n\r\n        let options = {\r\n          message: await openpgp.message.readArmored(data.data),\r\n          privateKeys: [privKey]\r\n        }\r\n\r\n        openpgp.decrypt(options).then( (plaintext) => {\r\n          let newMessage = {\r\n            id: this.state.chatMessages.length,\r\n            user: data.user,\r\n            message: plaintext.data \r\n          }\r\n\r\n          this.setState({chatMessages: [...this.state.chatMessages, newMessage]});\r\n        })\r\n      }\r\n    });\r\n\r\n    peer.on(\"stream\", (data) => {\r\n      this.setState({peerStream: data});\r\n      this.peerRef.srcObject = this.state.peerStream;\r\n      this.peerRef.onloaddedmetadata = this.peerRef.play();\r\n    });\r\n\r\n    this.setState({peer: peer, inConvo: true});\r\n    return peer;\r\n  }\r\n\r\n\r\n  createMessage = async (user, content) => {\r\n\r\n      const newMessage = {\r\n        id: this.state.chatMessages.length,\r\n        user: user,\r\n        message: content \r\n      }\r\n\r\n      this.setState({chatMessages: [...this.state.chatMessages, newMessage]});\r\n      let data = openpgp.message.fromText(content);\r\n\r\n      let options = {\r\n        message: data,\r\n        publicKeys: ( await openpgp.key.readArmored(sessionStorage.peerPublicKey)).keys,\r\n      }\r\n\r\n      try {\r\n      openpgp.encrypt(options).then( (ciphertext) => {\r\n        let data = ciphertext.data;\r\n        this.state.peer.send(JSON.stringify({user: 'Anon', data: data}));\r\n      });    \r\n    } catch (err) {\r\n      this.setState({chatMessages: [{id: this.state.chatMessages.length, user: \"Client\", message:\"There was an error sending the message...\"}]});\r\n    } \r\n  }\r\n\r\n  backgroundImage = () => {\r\n      var imgUrl = prompt('Please enter Catbox/Imgur image URL: ')\r\n      if(typeof imgUrl == 'string') {\r\n        var splitContent = imgUrl.split('/');\r\n        if(splitContent[2] === \"files.catbox.moe\" || splitContent[2] === \"i.imgur.com\") {\r\n          splitContent = splitContent[3].split(\".\");\r\n          if(splitContent[1] == \"jpg\" || splitContent[1] == \"jpeg\" || splitContent[1] == \"png\" || splitContent[1] == \"gif\")  {\r\n              this.setState({backgroundImage: imgUrl})    \r\n          } else {\r\n              this.setState({backgroundImage: null})\r\n              return null;\r\n          }\r\n      }\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\"> \r\n      <SiteIntro />\r\n\r\n      <div id = \"videoChat\">\r\n        <div><h3 id = \"logo\" onClick={ this.backgroundImage }>Random.moe</h3> <a target=\"_blank\" href=\"https://www.patreon.com/randomMOE\"><img style={{maxHeight: '30px' }} src=\"https://c5.patreon.com/external/logo/become_a_patron_button@2x.png\" alt=\"I'm struggling pls\"></img></a> | <a target=\"_blank\" href=\"https://twitter.com/Twitch_NotDem\"><img style={{maxHeight: '30px' }} src=\"https://img.icons8.com/color/48/000000/twitter.png\" alt=\"Complain here lol\"></img></a>| <a target=\"_blank\" href=\"https://github.com/paradoxmoe/RandomMOE\"><img style={{maxHeight: '30px' }} src=\"https://image.flaticon.com/icons/svg/25/25231.svg\" alt=\"Complain here if u hate twitter lol\"></img></a></div>\r\n        <video ref = {clientRef => {this.clientRef = clientRef}} controls muted></video>\r\n        <video ref = {peerRef => {this.peerRef = peerRef}} controls></video>\r\n      </div>\r\n        <div id = \"chatApp\" class = \"disableScrollbars\">\r\n          <Chat chatMessages = {this.state.chatMessages} submit = {this.submitButton} />\r\n        </div>\r\n        {/* <NimblePicker set='messenger' data={data} /> */}\r\n        <CreateMessage createMessage =  {this.createMessage} peer = {this.peer} next = {this.next} />\r\n        <CanvasBackground backgroundImage = { this.state.backgroundImage }/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n//import * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n//serviceWorker.unregister();\r\n"],"sourceRoot":""}